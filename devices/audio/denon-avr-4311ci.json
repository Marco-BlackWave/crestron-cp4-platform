{
  "id": "denon-avr-4311ci",
  "manufacturer": "Denon",
  "model": "AVR-4311CI",
  "category": "audio",
  "protocols": {
    "serial": {
      "baudRate": 9600,
      "dataBits": 8,
      "parity": "none",
      "stopBits": 1,
      "commands": {
        "powerOn": "PWON\r",
        "powerOff": "PWSTANDBY\r",
        "powerQuery": "PW?\r",
        "volumeUp": "MVUP\r",
        "volumeDown": "MVDOWN\r",
        "volumeQuery": "MV?\r",
        "muteOn": "MUON\r",
        "muteOff": "MUOFF\r",
        "muteQuery": "MU?\r",
        "inputCd": "SICD\r",
        "inputDvd": "SIDVD\r",
        "inputBluray": "SIBD\r",
        "inputTv": "SITV\r",
        "inputSatCbl": "SISAT/CBL\r",
        "inputMediaPlayer": "SIMPLAY\r",
        "inputGame": "SIGAME\r",
        "inputAux1": "SIAUX1\r",
        "inputAux2": "SIAUX2\r",
        "inputNet": "SINET\r",
        "inputTuner": "SITUNER\r",
        "inputUsb": "SIUSB\r",
        "inputIpod": "SIIPOD\r",
        "inputQuery": "SI?\r",
        "surroundAuto": "MSAUTO\r",
        "surroundStereo": "MSSTEREO\r",
        "surroundDolby": "MSDOLBY DIGITAL\r",
        "surroundDts": "MSDTS SURROUND\r",
        "surroundDirect": "MSDIRECT\r",
        "surroundPureDirect": "MSPURE DIRECT\r",
        "surroundMultiChStereo": "MSMCH STEREO\r",
        "surroundQuery": "MS?\r",
        "zone2On": "Z2ON\r",
        "zone2Off": "Z2OFF\r",
        "zone2VolumeUp": "Z2UP\r",
        "zone2VolumeDown": "Z2DOWN\r",
        "zone2MuteOn": "Z2MUON\r",
        "zone2MuteOff": "Z2MUOFF\r",
        "zone2InputCd": "Z2CD\r",
        "zone2InputDvd": "Z2DVD\r",
        "zone2InputTuner": "Z2TUNER\r",
        "zone2InputNet": "Z2NET\r",
        "zone2Query": "Z2?\r",
        "zone3On": "Z3ON\r",
        "zone3Off": "Z3OFF\r",
        "zone3VolumeUp": "Z3UP\r",
        "zone3VolumeDown": "Z3DOWN\r",
        "zone3MuteOn": "Z3MUON\r",
        "zone3MuteOff": "Z3MUOFF\r",
        "zone3Query": "Z3?\r",
        "tunerFrequencyAmFm": "TFAN{frequency}\r",
        "tunerFrequencyHd": "TFHD{frequency}\r",
        "tunerBandAm": "TMANMANUAL\r",
        "tunerBandFm": "TMANFMMANUAL\r",
        "tunerPresetUp": "TPANUP\r",
        "tunerPresetDown": "TPANDOWN\r",
        "menuOn": "MNMEN ON\r",
        "menuOff": "MNMEN OFF\r",
        "cursorUp": "MNCUP\r",
        "cursorDown": "MNCDN\r",
        "cursorLeft": "MNCLT\r",
        "cursorRight": "MNCRT\r",
        "enter": "MNENT\r",
        "return": "MNRTN\r"
      },
      "feedback": {
        "powerState": { "poll": "PW?\r", "on": "PWON", "off": "PWSTANDBY" },
        "muteState": { "poll": "MU?\r", "on": "MUON", "off": "MUOFF" },
        "inputSource": { "poll": "SI?\r" },
        "volume": { "poll": "MV?\r" },
        "surroundMode": { "poll": "MS?\r" }
      }
    },
    "ip": {
      "port": 23,
      "type": "tcp",
      "commands": {
        "powerOn": "PWON\r",
        "powerOff": "PWSTANDBY\r",
        "volumeUp": "MVUP\r",
        "volumeDown": "MVDOWN\r",
        "muteOn": "MUON\r",
        "muteOff": "MUOFF\r",
        "inputCd": "SICD\r",
        "inputBluray": "SIBD\r",
        "inputTv": "SITV\r",
        "inputNet": "SINET\r",
        "inputUsb": "SIUSB\r"
      }
    }
  },
  "capabilities": {
    "discretePower": true,
    "volumeControl": true,
    "inputSelect": true,
    "feedback": true,
    "warmupMs": 1000,
    "cooldownMs": 0
  },
  "feedbackRules": [
    { "pattern": "^PWON$", "signal": "power", "value": true },
    { "pattern": "^PWSTANDBY$", "signal": "power", "value": false },
    { "pattern": "^MV(\\d+)$", "signal": "volume", "transform": "parseInt" },
    { "pattern": "^MVMAX (\\d+)$", "signal": "volumeMax", "transform": "parseInt" },
    { "pattern": "^MUON$", "signal": "mute", "value": true },
    { "pattern": "^MUOFF$", "signal": "mute", "value": false },
    { "pattern": "^SI(.+)$", "signal": "inputSource" },
    { "pattern": "^MS(.+)$", "signal": "surroundMode" },
    { "pattern": "^Z2ON$", "signal": "zone2Power", "value": true },
    { "pattern": "^Z2OFF$", "signal": "zone2Power", "value": false },
    { "pattern": "^Z2MUON$", "signal": "zone2Mute", "value": true },
    { "pattern": "^Z2MUOFF$", "signal": "zone2Mute", "value": false },
    { "pattern": "^Z3ON$", "signal": "zone3Power", "value": true },
    { "pattern": "^Z3OFF$", "signal": "zone3Power", "value": false },
    { "pattern": "^CVFL (\\d+)$", "signal": "channelVolumeFrontLeft", "transform": "parseInt" },
    { "pattern": "^CVFR (\\d+)$", "signal": "channelVolumeFrontRight", "transform": "parseInt" },
    { "pattern": "^CVC (\\d+)$", "signal": "channelVolumeCenter", "transform": "parseInt" },
    { "pattern": "^CVSW (\\d+)$", "signal": "channelVolumeSubwoofer", "transform": "parseInt" },
    { "pattern": "^NSE(.+)$", "signal": "networkStatus" },
    { "pattern": "^TPAN(\\d+)$", "signal": "tunerPresetAm", "transform": "parseInt" },
    { "pattern": "^TPHD(\\d+)$", "signal": "tunerPresetHd", "transform": "parseInt" }
  ],
  "sourceModule": "Denon AVR-4311CI v1.0 Processor.usp"
}
